events {
    worker_connections  4096;  # Number of connections per worker
    use epoll;                  # Use efficient event model for Linux
    multi_accept on;           # Accept multiple connections per worker
}
worker_processes auto;  # Automatically detect number of CPU cores
http {
    ignore_invalid_headers off;
	upstream api {
		least_conn;
		server rinhabackend:80;
		server rinhabackend2:80;
	}
    server {
		server_name load-balancer
        
		access_log off;
        listen 9999;
       location / {
            proxy_pass http://api;
        }

    }
}
